import{_ as s,o as n,c as a,Q as p}from"./chunks/framework.6ed370c1.js";const o="/docs/assets/执行效果.88e5b6d5.png",l="data:image/png;base64,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",t="/docs/assets/配方2.5a64e452.png",e="/docs/assets/配方3.af50e797.png",r="/docs/assets/旋转90度.f7d650b9.png",c="/docs/assets/找定位点.28c6bb85.png",E="/docs/assets/位置调整.b2396d43.png",y="/docs/assets/选择区域.2b969d30.png",i="/docs/assets/拟合平面.7a1e41d3.png",F="/docs/assets/裁切.d1c41fcc.png",d="/docs/assets/滤波.ecc9495d.png",u="/docs/assets/找中线.3f8606fc.png",C="/docs/assets/pin1.4ccfc811.jpeg",b="/docs/assets/pin2.e81ca882.jpeg",h="/docs/assets/pin3.bafd0402.jpeg",A="/docs/assets/pin4.efd678f7.jpeg",f="/docs/assets/pin5.db3a4653.png",j=JSON.parse('{"title":"196pin示例","description":"","frontmatter":{},"headers":[],"relativePath":"project/工程示例/196pin/196pin.md","filePath":"project/工程示例/196pin/196pin.md","lastUpdated":1705395279000}'),q={name:"project/工程示例/196pin/196pin.md"},B=p('<h1 id="_196pin示例" tabindex="-1">196pin示例 <a class="header-anchor" href="#_196pin示例" aria-label="Permalink to &quot;196pin示例&quot;">​</a></h1><h2 id="一、执行效果" tabindex="-1">一、执行效果 <a class="header-anchor" href="#一、执行效果" aria-label="Permalink to &quot;一、执行效果&quot;">​</a></h2><p><img src="'+o+'" alt="本地图片"><br></p><h2 id="二、初始化" tabindex="-1">二、初始化 <a class="header-anchor" href="#二、初始化" aria-label="Permalink to &quot;二、初始化&quot;">​</a></h2><h3 id="_1-预备工作" tabindex="-1">1.预备工作 <a class="header-anchor" href="#_1-预备工作" aria-label="Permalink to &quot;1.预备工作&quot;">​</a></h3><p>[*]配方加载，点击第二行最后一个小图标后，打开配方界面。<br></p><p><img src="'+l+'" alt="本地图片"><br></p><p>[**]右击左侧配方列表可创建，添加或删除已有配方。<br></p><p><img src="'+t+'" alt="本地图片"><br></p><p>[***]打开配方后，可在右侧直接看到配方内容，也可以在右侧直接修改配方内容。<br></p><p><img src="'+e+'" alt="本地图片"><br></p><h3 id="_2-初始化工作" tabindex="-1">2.初始化工作 <a class="header-anchor" href="#_2-初始化工作" aria-label="Permalink to &quot;2.初始化工作&quot;">​</a></h3><p>[00]选择<code>Lua脚本语言</code>工具，全局变量初始化，创建待接受数据的csv文件。<br> [01]选择<code>加载点云</code>工具，获取点云。<br> [02]选择<code>3D裁切预处理</code>工具，将点云复制一份到IM1（IM0不动后面可以再次使用）。<br></p><h2 id="三、左半部分处理" tabindex="-1">三、左半部分处理 <a class="header-anchor" href="#三、左半部分处理" aria-label="Permalink to &quot;三、左半部分处理&quot;">​</a></h2><h3 id="_1-图像定位" tabindex="-1">1.图像定位 <a class="header-anchor" href="#_1-图像定位" aria-label="Permalink to &quot;1.图像定位&quot;">​</a></h3><p>[03]选择<code>3D变换预处理</code>工具，将点云进行90度的旋转。<br></p><p><img src="'+r+'" alt="本地图片"><br></p><p>[04-07]选择<code>3D方形探针</code>工具，选择4个边界的pin针，输出其中心点的坐标。<br></p><p><img src="'+c+`" alt="本地图片"><br></p><p>[08]选择<code>Lua语言脚本</code>工具，计算出4个点的x和y坐标的平均值，作为左半部分的中心点。<br></p><div class="language-lua vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">lua</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">x1, y1, z1 </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">GetPoint</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">6</span><span style="color:#E1E4E8;">)   </span><span style="color:#6A737D;">--GetPoint(i)表示读取寄存器中序号为i的点的x,y,z坐标的信息。</span></span>
<span class="line"><span style="color:#E1E4E8;">x2, y2, z2 </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">GetPoint</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">4</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">x3, y3, z3 </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">GetPoint</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">2</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">x4, y4, z4 </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">GetPoint</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">x </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> (x1</span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;">x2</span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;">x3</span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;">x4) </span><span style="color:#F97583;">/</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">4</span></span>
<span class="line"><span style="color:#E1E4E8;">y </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> (y1</span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;">y2</span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;">y3</span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;">y4) </span><span style="color:#F97583;">/</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">4</span></span>
<span class="line"><span style="color:#E1E4E8;">z </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> (z1</span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;">z2</span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;">z3</span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;">z4) </span><span style="color:#F97583;">/</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">4</span></span>
<span class="line"></span>
<span class="line"><span style="color:#79B8FF;">PushPoint</span><span style="color:#E1E4E8;">(x, y, z)    </span><span style="color:#6A737D;">--PushPoint(x,y,z)表示将点x,y,z输出到寄存器序号为0的位置上。</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">x1, y1, z1 </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">GetPoint</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">6</span><span style="color:#24292E;">)   </span><span style="color:#6A737D;">--GetPoint(i)表示读取寄存器中序号为i的点的x,y,z坐标的信息。</span></span>
<span class="line"><span style="color:#24292E;">x2, y2, z2 </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">GetPoint</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">4</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">x3, y3, z3 </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">GetPoint</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">2</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">x4, y4, z4 </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">GetPoint</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">0</span><span style="color:#24292E;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">x </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> (x1</span><span style="color:#D73A49;">+</span><span style="color:#24292E;">x2</span><span style="color:#D73A49;">+</span><span style="color:#24292E;">x3</span><span style="color:#D73A49;">+</span><span style="color:#24292E;">x4) </span><span style="color:#D73A49;">/</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">4</span></span>
<span class="line"><span style="color:#24292E;">y </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> (y1</span><span style="color:#D73A49;">+</span><span style="color:#24292E;">y2</span><span style="color:#D73A49;">+</span><span style="color:#24292E;">y3</span><span style="color:#D73A49;">+</span><span style="color:#24292E;">y4) </span><span style="color:#D73A49;">/</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">4</span></span>
<span class="line"><span style="color:#24292E;">z </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> (z1</span><span style="color:#D73A49;">+</span><span style="color:#24292E;">z2</span><span style="color:#D73A49;">+</span><span style="color:#24292E;">z3</span><span style="color:#D73A49;">+</span><span style="color:#24292E;">z4) </span><span style="color:#D73A49;">/</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">4</span></span>
<span class="line"></span>
<span class="line"><span style="color:#005CC5;">PushPoint</span><span style="color:#24292E;">(x, y, z)    </span><span style="color:#6A737D;">--PushPoint(x,y,z)表示将点x,y,z输出到寄存器序号为0的位置上。</span></span></code></pre></div><p>[09]选择<code>3D位置调整</code>工具，选择上1步计算出来的中心点为原点，调整点云的X和Y位置。<br></p><p><img src="`+E+'" alt="本地图片"><br></p><h3 id="_2-拟合平面" tabindex="-1">2.拟合平面 <a class="header-anchor" href="#_2-拟合平面" aria-label="Permalink to &quot;2.拟合平面&quot;">​</a></h3><p>[10]选择<code>3D区域</code>工具，选择左半部分底面比较平坦的区域，合并成一个区域，并将区域输出到寄存器中。<br></p><p><img src="'+y+'" alt="本地图片"><br></p><p>[11]选择<code>3D平面</code>工具，从寄存器中选择上1步计算出的区域，拟合平面作为下面计算的零平面。<br></p><p><img src="'+i+'" alt="本地图片"><br></p><h3 id="_3-裁切滤波" tabindex="-1">3.裁切滤波 <a class="header-anchor" href="#_3-裁切滤波" aria-label="Permalink to &quot;3.裁切滤波&quot;">​</a></h3><p>[12]选择<code>3D裁切预处理</code>工具，选择要进行测量的pin的区域，并输出到新的IM2中进行处理。<br></p><p><img src="'+F+'" alt="本地图片"><br></p><p>[13]选择<code>3D离群点滤波</code>工具，去除pin周围的一切干扰噪点。<br></p><p><img src="'+d+'" alt="本地图片"><br></p><h3 id="_4-调整位置确定方向" tabindex="-1">4.调整位置确定方向 <a class="header-anchor" href="#_4-调整位置确定方向" aria-label="Permalink to &quot;4.调整位置确定方向&quot;">​</a></h3><p>[14]选择<code>3D方形探针</code>工具，选择pin最中间一行，根据所有pin生成一条直线。<br></p><p><img src="'+u+'" alt="本地图片"><br></p><p>[15]选择<code>3D位置调整</code>工具，选择上1步输出的直线，调整点云X和Y的位置。</p><h3 id="_5-pin针匹配-需配合配方" tabindex="-1">5.Pin针匹配（需配合配方） <a class="header-anchor" href="#_5-pin针匹配-需配合配方" aria-label="Permalink to &quot;5.Pin针匹配（需配合配方）&quot;">​</a></h3><p>[16]选择<code>Pin针匹配</code>工具，选择输入图像，pin针起始编号。<br></p><p><img src="'+C+'" alt="本地图片"><br></p><p>选择pin的最左边一列作为起始列，找出每一行的第一个点。<br></p><p><img src="'+b+'" alt="本地图片"><br></p><p>选择循环的行数和列数，框选pin针的box大小，需要测量的内容：高度，间隔，并根据配方进行NG,OK判断并将结果输出在图像上。选择高度测量的参数。<br></p><p><img src="'+h+'" alt="本地图片"><br></p><p>将各pin针结果输出到创建的变量中。<br></p><p><img src="'+A+'" alt="本地图片"><br></p><p><img src="'+f+`" alt="本地图片"><br></p><h2 id="三、右半部分处理" tabindex="-1">三、右半部分处理 <a class="header-anchor" href="#三、右半部分处理" aria-label="Permalink to &quot;三、右半部分处理&quot;">​</a></h2><p>[17-34]此部分处理逻辑和左半部分的一模一样，请参考上一节的流程。</p><h2 id="四、结果输出" tabindex="-1">四、结果输出 <a class="header-anchor" href="#四、结果输出" aria-label="Permalink to &quot;四、结果输出&quot;">​</a></h2><p>[35]pin针匹配工具输出的结果默认为json格式，lua脚本解析输出的变量，进行结果读写。</p><div class="language-lua vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">lua</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">pinStr1 </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">GetVariable</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;pin_1_105&quot;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">pinJson1 </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">ParseJson</span><span style="color:#E1E4E8;">(pinStr1)    </span><span style="color:#6A737D;">--解析Json</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">write </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;&quot;</span></span>
<span class="line"><span style="color:#F97583;">for</span><span style="color:#E1E4E8;"> i</span><span style="color:#F97583;">=</span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">,</span><span style="color:#79B8FF;">104</span><span style="color:#E1E4E8;">,</span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">do</span><span style="color:#E1E4E8;">         </span><span style="color:#6A737D;">--将每一个pin针的数据写入csv文件中</span></span>
<span class="line"><span style="color:#E1E4E8;">    write </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> write </span><span style="color:#F97583;">..</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">string.format</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;%.3f,&quot;</span><span style="color:#E1E4E8;">, pinJson1.</span><span style="color:#B392F0;">result</span><span style="color:#E1E4E8;">[i].</span><span style="color:#B392F0;">PinPositionX</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">    write </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> write </span><span style="color:#F97583;">..</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">string.format</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;%.3f,&quot;</span><span style="color:#E1E4E8;">, pinJson1.</span><span style="color:#B392F0;">result</span><span style="color:#E1E4E8;">[i].</span><span style="color:#B392F0;">PinPositionY</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">    write </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> write </span><span style="color:#F97583;">..</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">string.format</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;%.3f,&quot;</span><span style="color:#E1E4E8;">, pinJson1.</span><span style="color:#B392F0;">result</span><span style="color:#E1E4E8;">[i].</span><span style="color:#B392F0;">PinHight</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">    write </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> write </span><span style="color:#F97583;">..</span><span style="color:#E1E4E8;">  </span><span style="color:#9ECBFF;">&quot; ,&quot;</span></span>
<span class="line"><span style="color:#F97583;">end</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">pinStr2 </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">GetVariable</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;pin_106_111&quot;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">pinJson2 </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">ParseJson</span><span style="color:#E1E4E8;">(pinStr2)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">for</span><span style="color:#E1E4E8;"> i </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">,</span><span style="color:#79B8FF;">5</span><span style="color:#E1E4E8;">,</span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">do</span></span>
<span class="line"><span style="color:#E1E4E8;">    write </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> write </span><span style="color:#F97583;">..</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">string.format</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;%.3f,&quot;</span><span style="color:#E1E4E8;">, pinJson2.</span><span style="color:#B392F0;">result</span><span style="color:#E1E4E8;">[i].</span><span style="color:#B392F0;">PinPositionX</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">    write </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> write </span><span style="color:#F97583;">..</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">string.format</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;%.3f,&quot;</span><span style="color:#E1E4E8;">, pinJson2.</span><span style="color:#B392F0;">result</span><span style="color:#E1E4E8;">[i].</span><span style="color:#B392F0;">PinPositionY</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">    write </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> write </span><span style="color:#F97583;">..</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">string.format</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;%.3f,&quot;</span><span style="color:#E1E4E8;">, pinJson2.</span><span style="color:#B392F0;">result</span><span style="color:#E1E4E8;">[i].</span><span style="color:#B392F0;">PinHight</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">    write </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> write </span><span style="color:#F97583;">..</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot; ,&quot;</span></span>
<span class="line"><span style="color:#F97583;">end</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">pinStr3 </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">GetVariable</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;pin_112_196&quot;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">pinJson3 </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">ParseJson</span><span style="color:#E1E4E8;">(pinStr3)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">for</span><span style="color:#E1E4E8;"> i </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">,</span><span style="color:#79B8FF;">84</span><span style="color:#E1E4E8;">,</span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">do</span></span>
<span class="line"><span style="color:#E1E4E8;">    write </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> write </span><span style="color:#F97583;">..</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">string.format</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;%.3f,&quot;</span><span style="color:#E1E4E8;">, pinJson3.</span><span style="color:#B392F0;">result</span><span style="color:#E1E4E8;">[i].</span><span style="color:#B392F0;">PinPositionX</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">    write </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> write </span><span style="color:#F97583;">..</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">string.format</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;%.3f,&quot;</span><span style="color:#E1E4E8;">, pinJson3.</span><span style="color:#B392F0;">result</span><span style="color:#E1E4E8;">[i].</span><span style="color:#B392F0;">PinPositionY</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">    write </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> write </span><span style="color:#F97583;">..</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">string.format</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;%.3f,&quot;</span><span style="color:#E1E4E8;">, pinJson3.</span><span style="color:#B392F0;">result</span><span style="color:#E1E4E8;">[i].</span><span style="color:#B392F0;">PinHight</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">    write </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> write </span><span style="color:#F97583;">..</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot; ,&quot;</span></span>
<span class="line"><span style="color:#F97583;">end</span></span>
<span class="line"></span>
<span class="line"><span style="color:#79B8FF;">fprint</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;./196pin.csv&quot;</span><span style="color:#E1E4E8;">, write)</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">pinStr1 </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">GetVariable</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;pin_1_105&quot;</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">pinJson1 </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">ParseJson</span><span style="color:#24292E;">(pinStr1)    </span><span style="color:#6A737D;">--解析Json</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">write </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;&quot;</span></span>
<span class="line"><span style="color:#D73A49;">for</span><span style="color:#24292E;"> i</span><span style="color:#D73A49;">=</span><span style="color:#005CC5;">0</span><span style="color:#24292E;">,</span><span style="color:#005CC5;">104</span><span style="color:#24292E;">,</span><span style="color:#005CC5;">1</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">do</span><span style="color:#24292E;">         </span><span style="color:#6A737D;">--将每一个pin针的数据写入csv文件中</span></span>
<span class="line"><span style="color:#24292E;">    write </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> write </span><span style="color:#D73A49;">..</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">string.format</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;%.3f,&quot;</span><span style="color:#24292E;">, pinJson1.</span><span style="color:#6F42C1;">result</span><span style="color:#24292E;">[i].</span><span style="color:#6F42C1;">PinPositionX</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">    write </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> write </span><span style="color:#D73A49;">..</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">string.format</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;%.3f,&quot;</span><span style="color:#24292E;">, pinJson1.</span><span style="color:#6F42C1;">result</span><span style="color:#24292E;">[i].</span><span style="color:#6F42C1;">PinPositionY</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">    write </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> write </span><span style="color:#D73A49;">..</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">string.format</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;%.3f,&quot;</span><span style="color:#24292E;">, pinJson1.</span><span style="color:#6F42C1;">result</span><span style="color:#24292E;">[i].</span><span style="color:#6F42C1;">PinHight</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">    write </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> write </span><span style="color:#D73A49;">..</span><span style="color:#24292E;">  </span><span style="color:#032F62;">&quot; ,&quot;</span></span>
<span class="line"><span style="color:#D73A49;">end</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">pinStr2 </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">GetVariable</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;pin_106_111&quot;</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">pinJson2 </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">ParseJson</span><span style="color:#24292E;">(pinStr2)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">for</span><span style="color:#24292E;"> i </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">,</span><span style="color:#005CC5;">5</span><span style="color:#24292E;">,</span><span style="color:#005CC5;">1</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">do</span></span>
<span class="line"><span style="color:#24292E;">    write </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> write </span><span style="color:#D73A49;">..</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">string.format</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;%.3f,&quot;</span><span style="color:#24292E;">, pinJson2.</span><span style="color:#6F42C1;">result</span><span style="color:#24292E;">[i].</span><span style="color:#6F42C1;">PinPositionX</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">    write </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> write </span><span style="color:#D73A49;">..</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">string.format</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;%.3f,&quot;</span><span style="color:#24292E;">, pinJson2.</span><span style="color:#6F42C1;">result</span><span style="color:#24292E;">[i].</span><span style="color:#6F42C1;">PinPositionY</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">    write </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> write </span><span style="color:#D73A49;">..</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">string.format</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;%.3f,&quot;</span><span style="color:#24292E;">, pinJson2.</span><span style="color:#6F42C1;">result</span><span style="color:#24292E;">[i].</span><span style="color:#6F42C1;">PinHight</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">    write </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> write </span><span style="color:#D73A49;">..</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot; ,&quot;</span></span>
<span class="line"><span style="color:#D73A49;">end</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">pinStr3 </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">GetVariable</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;pin_112_196&quot;</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">pinJson3 </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">ParseJson</span><span style="color:#24292E;">(pinStr3)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">for</span><span style="color:#24292E;"> i </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">,</span><span style="color:#005CC5;">84</span><span style="color:#24292E;">,</span><span style="color:#005CC5;">1</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">do</span></span>
<span class="line"><span style="color:#24292E;">    write </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> write </span><span style="color:#D73A49;">..</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">string.format</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;%.3f,&quot;</span><span style="color:#24292E;">, pinJson3.</span><span style="color:#6F42C1;">result</span><span style="color:#24292E;">[i].</span><span style="color:#6F42C1;">PinPositionX</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">    write </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> write </span><span style="color:#D73A49;">..</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">string.format</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;%.3f,&quot;</span><span style="color:#24292E;">, pinJson3.</span><span style="color:#6F42C1;">result</span><span style="color:#24292E;">[i].</span><span style="color:#6F42C1;">PinPositionY</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">    write </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> write </span><span style="color:#D73A49;">..</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">string.format</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;%.3f,&quot;</span><span style="color:#24292E;">, pinJson3.</span><span style="color:#6F42C1;">result</span><span style="color:#24292E;">[i].</span><span style="color:#6F42C1;">PinHight</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">    write </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> write </span><span style="color:#D73A49;">..</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot; ,&quot;</span></span>
<span class="line"><span style="color:#D73A49;">end</span></span>
<span class="line"></span>
<span class="line"><span style="color:#005CC5;">fprint</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;./196pin.csv&quot;</span><span style="color:#24292E;">, write)</span></span></code></pre></div>`,52),m=[B];function P(g,v,D,w,Q,x){return n(),a("div",null,m)}const I=s(q,[["render",P]]);export{j as __pageData,I as default};
