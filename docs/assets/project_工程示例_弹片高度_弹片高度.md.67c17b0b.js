import{_ as s,o as n,c as a,Q as p}from"./chunks/framework.6ed370c1.js";const l="/docs/assets/执行效果.b54b1a97.png",o="/docs/assets/Blob.dd542e50.png",c="/docs/assets/3D区域.3c2c7d60.png",e="/docs/assets/裁切.b01071cc.png",t="/docs/assets/滤波.93434e2d.png",r="/docs/assets/BLOB1.55eb14d7.png",y="/docs/assets/3D高度.8dac4af2.png",E="/docs/assets/3D方形探针2.65b2572c.png",q=JSON.parse('{"title":"弹片高度示例","description":"","frontmatter":{},"headers":[],"relativePath":"project/工程示例/弹片高度/弹片高度.md","filePath":"project/工程示例/弹片高度/弹片高度.md","lastUpdated":1705395279000}'),i={name:"project/工程示例/弹片高度/弹片高度.md"},F=p('<h1 id="弹片高度示例" tabindex="-1">弹片高度示例 <a class="header-anchor" href="#弹片高度示例" aria-label="Permalink to &quot;弹片高度示例&quot;">​</a></h1><h2 id="一、执行效果" tabindex="-1">一、执行效果 <a class="header-anchor" href="#一、执行效果" aria-label="Permalink to &quot;一、执行效果&quot;">​</a></h2><p><img src="'+l+'" alt="本地图片"><br></p><h2 id="二、初始化" tabindex="-1">二、初始化 <a class="header-anchor" href="#二、初始化" aria-label="Permalink to &quot;二、初始化&quot;">​</a></h2><p>[00]选择<code>Lua脚本语言</code>工具，全局变量初始化，创建待接受数据的csv文件。<br> [01]选择<code>加载点云</code>工具，获取点云。<br></p><h2 id="三、预处理" tabindex="-1">三、预处理 <a class="header-anchor" href="#三、预处理" aria-label="Permalink to &quot;三、预处理&quot;">​</a></h2><p>[03]选择<code>3D斑点</code>工具，得到方块中心坐标并输出。<br></p><p><img src="'+o+'" alt="本地图片"><br></p><p>[03]选择<code>3D位置调整</code>工具，选择上1步计算出来的中心点为原点，调整点云的X和Y位置。<br></p><p>[04-05]连续选择2次<code>3D区域</code>工具，选择下侧部分底面比较平坦的区域，合并成一个区域。<br></p><p><img src="'+c+'" alt="本地图片"><br></p><p>[06]选择<code>3D平面</code>工具，选择上1步计算出的区域，拟合平面。<br></p><p>[07-08]连续选择2次<code>3D裁切</code>工具，裁切出需要测量的部分至IM3。<br></p><p><img src="'+e+'" alt="本地图片"><br></p><p>[09]连续3次<code>3D离群点滤波</code>工具，去除pin周围的一切干扰噪点。<br></p><p><img src="'+t+'" alt="本地图片"><br></p><h2 id="三、确定测量起点" tabindex="-1">三、确定测量起点 <a class="header-anchor" href="#三、确定测量起点" aria-label="Permalink to &quot;三、确定测量起点&quot;">​</a></h2><p>[10-12]连续选择3次<code>3D斑点</code>工具，选择pin的最左边一列作为起始列，找出每一行的第一个点。<br></p><p><img src="'+r+`" alt="本地图片"><br></p><h2 id="四、循环测量每个pin" tabindex="-1">四、循环测量每个pin <a class="header-anchor" href="#四、循环测量每个pin" aria-label="Permalink to &quot;四、循环测量每个pin&quot;">​</a></h2><p>[13-16]选择<code>标记</code>工具，记录每一行和每一列的循环标记，并通过脚本获取每一行的起始点坐标。<br></p><div class="language-lua vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">lua</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">--记录每行循环的起始点坐标</span></span>
<span class="line"><span style="color:#79B8FF;">SetVariable</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;SmallpcbPinLoop&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">smallPcbColumn </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">GetVariable</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;SmallPcbColumn&#39;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#79B8FF;">println</span><span style="color:#E1E4E8;">(smallPcbColumn)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">x, y, z </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">GetPoint</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;PCB_Start&#39; </span><span style="color:#F97583;">..</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">tointeger</span><span style="color:#E1E4E8;">(smallPcbColumn </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">))</span></span>
<span class="line"></span>
<span class="line"><span style="color:#79B8FF;">SetPoint</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;SmallpcbColumnStart&#39;</span><span style="color:#E1E4E8;">, x, y, z)</span></span>
<span class="line"><span style="color:#79B8FF;">println</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;SmallpcbColumnStart = &#39;</span><span style="color:#E1E4E8;">, x, y, z)</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">--记录每行循环的起始点坐标</span></span>
<span class="line"><span style="color:#005CC5;">SetVariable</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;SmallpcbPinLoop&#39;</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">smallPcbColumn </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">GetVariable</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;SmallPcbColumn&#39;</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#005CC5;">println</span><span style="color:#24292E;">(smallPcbColumn)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">x, y, z </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">GetPoint</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;PCB_Start&#39; </span><span style="color:#D73A49;">..</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">tointeger</span><span style="color:#24292E;">(smallPcbColumn </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">1</span><span style="color:#24292E;">))</span></span>
<span class="line"></span>
<span class="line"><span style="color:#005CC5;">SetPoint</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;SmallpcbColumnStart&#39;</span><span style="color:#24292E;">, x, y, z)</span></span>
<span class="line"><span style="color:#005CC5;">println</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;SmallpcbColumnStart = &#39;</span><span style="color:#24292E;">, x, y, z)</span></span></code></pre></div><p>[17]选择<code>Lua语言脚本</code>工具，根据每个pin的位置，计算出对应的Box大小，并绘制在IM3窗口中。<br></p><div class="language-lua vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">lua</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">pcb_pinsx1 </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0</span></span>
<span class="line"><span style="color:#E1E4E8;">pcb_pinsy1 </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0</span></span>
<span class="line"><span style="color:#E1E4E8;">pcb_pinsz1 </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0</span></span>
<span class="line"><span style="color:#E1E4E8;">pcb_pinex1 </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0</span></span>
<span class="line"><span style="color:#E1E4E8;">pcb_piney1 </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0</span></span>
<span class="line"><span style="color:#E1E4E8;">pcb_pinez1 </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0</span></span>
<span class="line"><span style="color:#E1E4E8;">pcb_pinsx2 </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0</span></span>
<span class="line"><span style="color:#E1E4E8;">pcb_pinsy2 </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0</span></span>
<span class="line"><span style="color:#E1E4E8;">pcb_pinsz2 </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0</span></span>
<span class="line"><span style="color:#E1E4E8;">pcb_pinex2 </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0</span></span>
<span class="line"><span style="color:#E1E4E8;">pcb_piney2 </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0</span></span>
<span class="line"><span style="color:#E1E4E8;">pcb_pinez2 </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">--先获取一些变量，等待使用</span></span>
<span class="line"><span style="color:#E1E4E8;">cs_x, cs_y, cs_z </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">GetPoint</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;SmallpcbColumnStart&#39;</span><span style="color:#E1E4E8;">)      </span><span style="color:#6A737D;">--起始点</span></span>
<span class="line"><span style="color:#79B8FF;">println</span><span style="color:#E1E4E8;">(cs_x, cs_y, cs_z)</span></span>
<span class="line"><span style="color:#E1E4E8;">smallpcbPinLoop </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">GetVariable</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;SmallpcbPinLoop&#39;</span><span style="color:#E1E4E8;">)            </span><span style="color:#6A737D;">--循环次数</span></span>
<span class="line"><span style="color:#79B8FF;">println</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;smallpcbPinLoop =&quot;</span><span style="color:#E1E4E8;">, smallpcbPinLoop)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">pcb_pinsx </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> cs_x </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> smallpcbPinLoop </span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0.8</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">-</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0.2</span></span>
<span class="line"><span style="color:#E1E4E8;">pcb_pinex </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> cs_x </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> smallpcbPinLoop </span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0.8</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0.2</span></span>
<span class="line"><span style="color:#E1E4E8;">pcb_pinsx1 </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> pcb_pinsx</span></span>
<span class="line"><span style="color:#E1E4E8;">pcb_pinex1 </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> pcb_pinex</span></span>
<span class="line"><span style="color:#E1E4E8;">pcb_pinsx2 </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> cs_x </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> (smallpcbPinLoop </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0.8</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">-</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0.2</span></span>
<span class="line"><span style="color:#E1E4E8;">pcb_pinex2 </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> cs_x </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> (smallpcbPinLoop </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0.8</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0.2</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">pcb_pinsy </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> cs_y </span><span style="color:#F97583;">-</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0.2</span></span>
<span class="line"><span style="color:#E1E4E8;">pcb_piney </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> cs_y </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0.2</span></span>
<span class="line"><span style="color:#E1E4E8;">pcb_pinsz </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> cs_z </span><span style="color:#F97583;">-</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0.2</span></span>
<span class="line"><span style="color:#E1E4E8;">pcb_pinez </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> cs_z </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0.2</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">pcb_pinsy1 </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> cs_y </span><span style="color:#F97583;">-</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0.2</span></span>
<span class="line"><span style="color:#E1E4E8;">pcb_piney1 </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> cs_y </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0.2</span></span>
<span class="line"><span style="color:#E1E4E8;">pcb_pinsz1 </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> cs_z </span><span style="color:#F97583;">-</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0.2</span></span>
<span class="line"><span style="color:#E1E4E8;">pcb_pinez1 </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> cs_z </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0.2</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">pcb_pinsy2 </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> cs_y </span><span style="color:#F97583;">-</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0.2</span></span>
<span class="line"><span style="color:#E1E4E8;">pcb_piney2 </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> cs_y </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0.2</span></span>
<span class="line"><span style="color:#E1E4E8;">pcb_pinsz2 </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> cs_z </span><span style="color:#F97583;">-</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0.2</span></span>
<span class="line"><span style="color:#E1E4E8;">pcb_pinez2 </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> cs_z </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0.2</span></span>
<span class="line"></span>
<span class="line"><span style="color:#79B8FF;">println</span><span style="color:#E1E4E8;">(pcb_pinsx1, pcb_pinsy1, pcb_pinsz1)</span></span>
<span class="line"><span style="color:#79B8FF;">println</span><span style="color:#E1E4E8;">(pcb_pinsx2, pcb_pinsy2, pcb_pinsz2)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#79B8FF;">PushBox</span><span style="color:#E1E4E8;">(pcb_pinsx1, pcb_pinsy1, pcb_pinsz1, pcb_pinex1, pcb_piney1, pcb_pinez1)</span></span>
<span class="line"><span style="color:#79B8FF;">PushBox</span><span style="color:#E1E4E8;">(pcb_pinsx2, pcb_pinsy2, pcb_pinsz2, pcb_pinex2, pcb_piney2, pcb_pinez2)</span></span>
<span class="line"><span style="color:#79B8FF;">DrawBox</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">2</span><span style="color:#E1E4E8;">, pcb_pinsx1, pcb_pinsy1, pcb_pinsz1, pcb_pinex1, pcb_piney1, pcb_pinez1)</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">pcb_pinsx1 </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span></span>
<span class="line"><span style="color:#24292E;">pcb_pinsy1 </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span></span>
<span class="line"><span style="color:#24292E;">pcb_pinsz1 </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span></span>
<span class="line"><span style="color:#24292E;">pcb_pinex1 </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span></span>
<span class="line"><span style="color:#24292E;">pcb_piney1 </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span></span>
<span class="line"><span style="color:#24292E;">pcb_pinez1 </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span></span>
<span class="line"><span style="color:#24292E;">pcb_pinsx2 </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span></span>
<span class="line"><span style="color:#24292E;">pcb_pinsy2 </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span></span>
<span class="line"><span style="color:#24292E;">pcb_pinsz2 </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span></span>
<span class="line"><span style="color:#24292E;">pcb_pinex2 </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span></span>
<span class="line"><span style="color:#24292E;">pcb_piney2 </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span></span>
<span class="line"><span style="color:#24292E;">pcb_pinez2 </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">--先获取一些变量，等待使用</span></span>
<span class="line"><span style="color:#24292E;">cs_x, cs_y, cs_z </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">GetPoint</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;SmallpcbColumnStart&#39;</span><span style="color:#24292E;">)      </span><span style="color:#6A737D;">--起始点</span></span>
<span class="line"><span style="color:#005CC5;">println</span><span style="color:#24292E;">(cs_x, cs_y, cs_z)</span></span>
<span class="line"><span style="color:#24292E;">smallpcbPinLoop </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">GetVariable</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;SmallpcbPinLoop&#39;</span><span style="color:#24292E;">)            </span><span style="color:#6A737D;">--循环次数</span></span>
<span class="line"><span style="color:#005CC5;">println</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;smallpcbPinLoop =&quot;</span><span style="color:#24292E;">, smallpcbPinLoop)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">pcb_pinsx </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> cs_x </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> smallpcbPinLoop </span><span style="color:#D73A49;">*</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0.8</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">-</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0.2</span></span>
<span class="line"><span style="color:#24292E;">pcb_pinex </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> cs_x </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> smallpcbPinLoop </span><span style="color:#D73A49;">*</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0.8</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0.2</span></span>
<span class="line"><span style="color:#24292E;">pcb_pinsx1 </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> pcb_pinsx</span></span>
<span class="line"><span style="color:#24292E;">pcb_pinex1 </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> pcb_pinex</span></span>
<span class="line"><span style="color:#24292E;">pcb_pinsx2 </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> cs_x </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> (smallpcbPinLoop </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">1</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">*</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0.8</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">-</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0.2</span></span>
<span class="line"><span style="color:#24292E;">pcb_pinex2 </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> cs_x </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> (smallpcbPinLoop </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">1</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">*</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0.8</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0.2</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">pcb_pinsy </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> cs_y </span><span style="color:#D73A49;">-</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0.2</span></span>
<span class="line"><span style="color:#24292E;">pcb_piney </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> cs_y </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0.2</span></span>
<span class="line"><span style="color:#24292E;">pcb_pinsz </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> cs_z </span><span style="color:#D73A49;">-</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0.2</span></span>
<span class="line"><span style="color:#24292E;">pcb_pinez </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> cs_z </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0.2</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">pcb_pinsy1 </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> cs_y </span><span style="color:#D73A49;">-</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0.2</span></span>
<span class="line"><span style="color:#24292E;">pcb_piney1 </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> cs_y </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0.2</span></span>
<span class="line"><span style="color:#24292E;">pcb_pinsz1 </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> cs_z </span><span style="color:#D73A49;">-</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0.2</span></span>
<span class="line"><span style="color:#24292E;">pcb_pinez1 </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> cs_z </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0.2</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">pcb_pinsy2 </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> cs_y </span><span style="color:#D73A49;">-</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0.2</span></span>
<span class="line"><span style="color:#24292E;">pcb_piney2 </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> cs_y </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0.2</span></span>
<span class="line"><span style="color:#24292E;">pcb_pinsz2 </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> cs_z </span><span style="color:#D73A49;">-</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0.2</span></span>
<span class="line"><span style="color:#24292E;">pcb_pinez2 </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> cs_z </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0.2</span></span>
<span class="line"></span>
<span class="line"><span style="color:#005CC5;">println</span><span style="color:#24292E;">(pcb_pinsx1, pcb_pinsy1, pcb_pinsz1)</span></span>
<span class="line"><span style="color:#005CC5;">println</span><span style="color:#24292E;">(pcb_pinsx2, pcb_pinsy2, pcb_pinsz2)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#005CC5;">PushBox</span><span style="color:#24292E;">(pcb_pinsx1, pcb_pinsy1, pcb_pinsz1, pcb_pinex1, pcb_piney1, pcb_pinez1)</span></span>
<span class="line"><span style="color:#005CC5;">PushBox</span><span style="color:#24292E;">(pcb_pinsx2, pcb_pinsy2, pcb_pinsz2, pcb_pinex2, pcb_piney2, pcb_pinez2)</span></span>
<span class="line"><span style="color:#005CC5;">DrawBox</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">2</span><span style="color:#24292E;">, pcb_pinsx1, pcb_pinsy1, pcb_pinsz1, pcb_pinex1, pcb_piney1, pcb_pinez1)</span></span></code></pre></div><p>[18]选择<code>3D高度</code>工具，选择上1步脚本中创建的box(寄存器中选择)，对该pin的高度进行测量。<br></p><p><img src="`+y+'" alt="本地图片"><br></p><p>[19-20]选择<code>3D方形探针</code>工具，选择第22步脚本中创建的box(寄存器中选择)，对该pin的位置进行测量，输出pin的位置坐标。<br></p><p><img src="'+E+`" alt="本地图片"><br></p><p>[21]选择<code>Lua语言脚本</code>工具，将前3步输出的和高度信息保存到文件中。<br></p><div class="language-lua vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">lua</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">Value_H</span><span style="color:#F97583;">=</span><span style="color:#79B8FF;">GetMeasure</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">4</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">x,y,z</span><span style="color:#F97583;">=</span><span style="color:#79B8FF;">GetPoint</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#79B8FF;">fprint</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;./bangtai.csv&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">string.format</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;%.3f,&quot;</span><span style="color:#E1E4E8;">, x))</span></span>
<span class="line"><span style="color:#79B8FF;">fprint</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;./bangtai.csv&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">string.format</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;%.3f,&quot;</span><span style="color:#E1E4E8;">, y))</span></span>
<span class="line"><span style="color:#79B8FF;">fprint</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;./bangtai.csv&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">string.format</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;%.3f,&quot;</span><span style="color:#E1E4E8;">, Value_H))</span></span>
<span class="line"><span style="color:#79B8FF;">fprint</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;./bangtai.csv&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&quot; &quot; </span><span style="color:#F97583;">..</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;,&quot;</span><span style="color:#E1E4E8;">)</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">Value_H</span><span style="color:#D73A49;">=</span><span style="color:#005CC5;">GetMeasure</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">4</span><span style="color:#24292E;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">x,y,z</span><span style="color:#D73A49;">=</span><span style="color:#005CC5;">GetPoint</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">0</span><span style="color:#24292E;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#005CC5;">fprint</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;./bangtai.csv&quot;</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">string.format</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;%.3f,&quot;</span><span style="color:#24292E;">, x))</span></span>
<span class="line"><span style="color:#005CC5;">fprint</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;./bangtai.csv&quot;</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">string.format</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;%.3f,&quot;</span><span style="color:#24292E;">, y))</span></span>
<span class="line"><span style="color:#005CC5;">fprint</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;./bangtai.csv&quot;</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">string.format</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;%.3f,&quot;</span><span style="color:#24292E;">, Value_H))</span></span>
<span class="line"><span style="color:#005CC5;">fprint</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;./bangtai.csv&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot; &quot; </span><span style="color:#D73A49;">..</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;,&quot;</span><span style="color:#24292E;">)</span></span></code></pre></div><p>[22-23]选择<code>Lua语言脚本</code>工具，循环次数判断，一列结束时，跳转到下一列，所有列都结束后，跳转到None标记，代表此半边pin检测完成。<br></p><div class="language-lua vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">lua</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">--判断循环次数</span></span>
<span class="line"><span style="color:#E1E4E8;">smallpcbPinLoop </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">GetVariable</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;SmallpcbPinLoop&quot;</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">1</span></span>
<span class="line"><span style="color:#79B8FF;">SetVariable</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;SmallpcbPinLoop&quot;</span><span style="color:#E1E4E8;">, smallpcbPinLoop)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> smallpcbPinLoop </span><span style="color:#F97583;">==</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">13</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">then</span></span>
<span class="line"><span style="color:#E1E4E8;">    smallPcbColumn </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">GetVariable</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;SmallPcbColumn&quot;</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">1</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">SetVariable</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;SmallPcbColumn&quot;</span><span style="color:#E1E4E8;">, smallPcbColumn)</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> smallPcbColumn </span><span style="color:#F97583;">&lt;</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">8</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">then</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#79B8FF;">Jump</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;loop Column&quot;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">else</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#79B8FF;">fprint</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;./bangtai.csv&quot;</span><span style="color:#E1E4E8;">,</span><span style="color:#9ECBFF;">&quot;</span><span style="color:#79B8FF;">\\n</span><span style="color:#9ECBFF;">&quot;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#79B8FF;">Jump</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;None&quot;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">end</span></span>
<span class="line"><span style="color:#F97583;">elseif</span><span style="color:#E1E4E8;"> smallpcbPinLoop </span><span style="color:#F97583;">&lt;</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">13</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">then</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">Jump</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;loop pin&quot;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#F97583;">end</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">--判断循环次数</span></span>
<span class="line"><span style="color:#24292E;">smallpcbPinLoop </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">GetVariable</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;SmallpcbPinLoop&quot;</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">1</span></span>
<span class="line"><span style="color:#005CC5;">SetVariable</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;SmallpcbPinLoop&quot;</span><span style="color:#24292E;">, smallpcbPinLoop)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">if</span><span style="color:#24292E;"> smallpcbPinLoop </span><span style="color:#D73A49;">==</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">13</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">then</span></span>
<span class="line"><span style="color:#24292E;">    smallPcbColumn </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">GetVariable</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;SmallPcbColumn&quot;</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">1</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">SetVariable</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;SmallPcbColumn&quot;</span><span style="color:#24292E;">, smallPcbColumn)</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> smallPcbColumn </span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">8</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">then</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#005CC5;">Jump</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;loop Column&quot;</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">else</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#005CC5;">fprint</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;./bangtai.csv&quot;</span><span style="color:#24292E;">,</span><span style="color:#032F62;">&quot;</span><span style="color:#005CC5;">\\n</span><span style="color:#032F62;">&quot;</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#005CC5;">Jump</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;None&quot;</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">end</span></span>
<span class="line"><span style="color:#D73A49;">elseif</span><span style="color:#24292E;"> smallpcbPinLoop </span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">13</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">then</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">Jump</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;loop pin&quot;</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#D73A49;">end</span></span></code></pre></div>`,32),b=[F];function C(_,u,d,m,B,D){return n(),a("div",null,b)}const x=s(i,[["render",C]]);export{q as __pageData,x as default};
